#
# typscn/Makefile.typscn.in - creates library typscn.
# It invokes makefiles in subdirectories typscn typsub typsio typscn typsub typsio  .
# It is invoked by Makefile
# Generated by car2cvs $Revision$ (nk)
#
# $Id$
#
# $Log$
# Revision 1.1  2000/06/19 20:00:15  eugenio
# Initial revision
#
# Revision 1.2  1996/03/06 15:00:29  zfiles
# Added : to = shell
#
# Revision 1.1.1.1  1995/08/01  18:00:02  nk
# Consolidation
#
# Revision 1.1  1995/07/31 19:23:40  nk
# Typscn is here.
#
# Revision 1.2  1994/10/09  04:24:37  zfiles
# Added typsio_c
#
# Revision 1.1.1.1  1994/10/05  13:45:39  zfiles
# first version of typscn in CVS
#
#

MAKE = gmake
SHELL = /bin/sh
srcdir = @srcdir@
VPATH = @srcdir@
MACHINE = @MACHINE@

FFLAGS = @FFLAGS@
CFLAGS = @CFLAGS@
CXXFLAGS = @CXXFLAGS@

INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

prefix = $(word 1,$(CLEO_PREFIX) $(HOME)/dlib)
exec_prefix = $(prefix)
libdir = $(exec_prefix)/lib
vaxsrcdir = $(exec_prefix)/vaxsrc/typscn

LOCALVAXSRC = ../vaxsrc

ifeq "$(srcdir)" "."
  absrcdir := $(shell pwd)
else
  absrcdir = $(srcdir)
endif

SUBNAMES=typscn typsub typsio typsio_c


.PHONY:TEST production vaxsrc vaxcom debug clean distclean realclean depend $(SUBNAMES) $(SUBNAMES_OBJ) TAGS
	@

TEST:production
	@ 

vaxsrc::
	@test -d $(LOCALVAXSRC)/$(LIBRARY) || mkdir -p $(LOCALVAXSRC)/$(LIBRARY)

vaxcom::
	@test -d $(LOCALVAXSRC)/$(LIBRARY) || mkdir -p $(LOCALVAXSRC)/$(LIBRARY);\
	echo "$$ set def [.$(LIBRARY)]" >> $(LOCALVAXSRC)/$(LIBRARY)/cfl.com;\
	echo "$$ library/create $(LIBRARY)" >> $(LOCALVAXSRC)/cfl.com;\
	echo "$$ library/create $(LIBRARY)_dbg" >> $(LOCALVAXSRC)/cfl.com;\
	echo $$ @[.$(LIBRARY)]cfl [-]$(LIBRARY) [-]$(LIBRARY)_dbg >> $(LOCALVAXSRC)/cfl.com;\
	echo $$ set def [-] >> $(LOCALVAXSRC)/cfl.com

production vaxsrc vaxcom depend debug clean distclean realclean TAGS:: 
	@test -z "$(SUBNAMES)" || $(MAKE) -f Makefile $(SUBNAMES) "TARGET=$@" TEMP_DEFS="$(TEMP_DEFS)";\
	test -z "$(SUBNAMES_OBJ)" || $(MAKE) -f Makefile $(SUBNAMES_OBJ) "TARGET=$@" TEMP_DEFS="$(TEMP_DEFS)"

distclean::
	@rm -f Makefile

$(SUBNAMES):: 
	@cd $@;test $(TARGET) = "debug" || $(MAKE) -k $(TARGET) FFLAGS="$(FFLAGS)"  CFLAGS="$(CFLAGS)"  LOCALVAXSRC="../$(LIBRARY)" CLEO_DEFS="$(CLEO_DEFS)" CLEO_FFLAGS="$(CLEO_FFLAGS)" LIBRARY=../$(LIBRARY) LIBRARY_NAME=$(LIBRARY_NAME);\
	test $(TARGET) != "debug" || $(MAKE) -k $(TARGET) FFLAGS="$(FFLAGS)" CFLAGS="$(CFLAGS)"  LOCALVAXSRC="../$(LOCALVAXSRC)" CLEO_DEFS="$(CLEO_DEFS)" CLEO_FFLAGS="$(CLEO_FFLAGS)" LIBRARY=../$(LIBRARY) LIBRARY_NAME=$(LIBRARY_NAME)





