
<HEAD>
<TITLE>MCfast Advanced Examples</Title>
</HEAD>

<CENTER><IMG src=http://www-pat.fnal.gov/bars/default.bar.gif></CENTER>
<CENTER><H1><IMG SRC=http://www-pat.fnal.gov/images/atom.gif ALIGN=middle>
  MCFast Advanced Examples
  <IMG SRC=http://www-pat.fnal.gov/images/atom.gif ALIGN=middle></H1></CENTER>
<CENTER><IMG src=http://www-pat.fnal.gov/bars/default.bar.gif></CENTER>


<P>July 3, 1998<P>

<HR>

Three fully supported advanced examaples can be found in the directory 
trees rooted at:<p>
$MCFAST_DIR/example/simulator/advanced_example_1<br>
$MCFAST_DIR/example/simulator/advanced_example_2<br>
$MCFAST_DIR/example/simulator/advanced_example_3<br><br>

In addition there is one unsupported mixing example: 
~bphyslib/mixing_example<p>

The last example is present on the
fnalu cluster ( and, for developers only, on fnsimu1 ).<P>

The detailed documentation for each example is found in README
files which are in the indicated directory heirarchy.

<HR>

<UL>
<LI> <b> Advanced Example 1 </b><br>
     This example exercises things like 
     <A HREF="vertex.ps"> vertex fitters, mass fitters, </A> and
     <A HREF="mcfast_utilities.html"> the mcfast utilities</A>, 
     such as code to compute the error on a proper decay time, code to
     compute the error on an impact parameter etc.  The example uses
     the decay:<br>
     B_s-> psi K*bar -> mu+ mu- K- pi+.<br>
     The code peeks at the generator information to find out which
     tracks should be assigned to the decay in question and which
     to the main vertex.  It then starts the exercise of the various
     fitters and utilities.


     The code also contains many illustrative histograms which
     show that the utilities are actually working - ie some distribtions
     should be unit gaussians and other should be a flat probability of
     chi2. Finally the example source includes the histogram file which
     came from a good run.<P>

<LI> <b> Advanced Example 2 </b><br>
     In this example the evgen job is told not to decay any hadrons
     containing heavy quarks.  These are decayed within mcfast.
     The example contains some histograms which show that neutral
     heavy hadrons ( D0, B0, B_s) have not turned in the magnetic field 
     but that the charged heavy hadrons have.<P>

     In this example, the K0s and stable hyperons which are produced
     inside evgen still have zero lifetime.  <P>

<LI> <b> Advanced Example 3 </b><br>
     This example shows how to write a chain of evgen jobs in which the
     random number seed is propagated from one job to the next.
     At present this example only works with pythia, not with isajet or
     herwig.  <P>

     A minor and, for the time, ignoreable weakness of this example is
     that the random number seeds for qq and for mcfast are not propagated
     from one job to the next -- the are initialized in each job using
     the time of day.<P>

<LI> <b> Unsupported Mixing Example </b><br>
     Consider doing an analysis of B_s mixing in which all particles
     are allowed to mix.  ( Unlike the common case in which mixing is
     turned off in the simulation and then restored "by hand" ).
     In a significant 
     fraction of the events, the B_s being looked at will be accompanied
     by another B_s or B_sbar - since the B_s system is almost fully mixed,
     there will be many events in which two B_s mesons ( and no B_sbar )
     are produced.<p>

     Now consider writing the event generator to simulate the above
     process and to study a specific channel of the B_s.
     In this case, one wants to force the first B_s meson
     in an event to decay into the channel being studied.  The second
     B_s meson should be allowed to decay according to the default
     branching ratios.<P>

     Now suppose that the channel in question is a long decay chain,
     such as:<br>
     B_s -> Psi K*bar -> mu+ mu- K- pi+.<br>
     It is important to only force the psi and K* decays if
     the psi and K* are decay products of the first B_s in the event.<P>

     This example does all of the above.  It has the added
     bonus that the correct particle ID codes are preserved at all
     steps in the job.

     If you look at this example, you will see that it requires
     changes to both qq and stdhep.  For this reason it will remain
     unsupported until those changes are incorporated into the released
     versions of qq and stdhep.
</UL>

</BLOCKQUOTE>
<HR>

<A HREF="http://www-pat.fnal.gov/mcfast/doc_index.html">
<IMG src=http://www-pat.fnal.gov/buttons/default.leftbutton.gif align=bottom alt="[back]"></A>
<A HREF="http://www.fnal.gov/faw/fermilab_at_work.html">
<IMG src=http://www-pat.fnal.gov/buttons/default.homebutton.gif align=bottom alt="[fermi at work]"></A>
<A HREF="http://www-pat.fnal.gov/simulation.html">
<IMG src=http://www-pat.fnal.gov/buttons/simulation.home.gif align=bottom alt="[simulation home]"></A>

<HR>

<ADDRESS>
Lynn Garren
<a href="mailto:garren@fnal.gov">garren@fnal.gov</a><P>
Rob Kutschke
<A HREF="mailto:kutschke@fnal.gov">kutschke@fnal.gov</A><P>
Patricia McBride
<A HREF="mailto:mcbride@fnal.gov">mcbride@fnal.gov</A><P>
</ADDRESS>
